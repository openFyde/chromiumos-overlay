# These two changes are (respectively):
# * pass CC to ABC since clang is expected instead of clang++,
# * remove hardcoded CXX and LD to use environment-based tools instead.
#
# Both of these changes are required to build Yosys.

--- a/Makefile
+++ b/Makefile
@@ -145,7 +145,7 @@ bumpversion:
 ABCREV = f6fa2dd
 ABCPULL = 1
 ABCURL ?= https://github.com/YosysHQ/abc
-ABCMKARGS = CC="$(CXX)" CXX="$(CXX)" ABC_USE_LIBSTDCXX=1 VERBOSE=$(Q)
+ABCMKARGS = CC="$(CC)" CXX="$(CXX)" ABC_USE_LIBSTDCXX=1 VERBOSE=$(Q)

 # set ABCEXTERNAL = <abc-command> to use an external ABC instance
 # Note: The in-tree ABC (yosys-abc) will not be installed when ABCEXTERNAL is set.
@@ -187,8 +187,6 @@ endif
 endif

 ifeq ($(CONFIG),clang)
-CXX = clang
-LD = clang++
 CXXFLAGS += -std=$(CXXSTD) -Os
 ABCMKARGS += ARCHFLAGS="-DABC_USE_STDINT_H"
 
